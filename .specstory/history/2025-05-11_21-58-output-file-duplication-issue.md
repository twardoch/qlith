<!-- Generated by SpecStory -->

# Output File Duplication Issue (2025-05-11 23:58:21)

_**User**_

@run-example.py @run-examples.sh 
For some reason running the examples with "pro" engine produces

`output-basic_layout-pro.png` in the examples folder AND `basic_layout-pro.png` in the `pro` folder, and the same for all the other HTML files. 

I only want those in the `pro` folder. 

 

---

_**Assistant**_



---

Looking at the code, I can see why you're getting output files in both locations. In the `generate_output` function, for the "pro" engine, the script creates output files with the "output-" prefix in the current directory and then copies them to the intended output directory, but never removes the original files.

I'll fix this by modifying the script to delete the original files after successful copying:

---

```diff
                              f"    [green]Copied file to:[/green] {output_file}"
                          )
+                         
+                         # Delete the original file after successful copy
+                         rel_output_file.unlink()
+                         console.print(
+                             f"    [green]Deleted original file:[/green] {rel_output_file.absolute()}"
+                         )
                      except Exception as e:
                          console.print(f"    [red]Error copying file:[/red] {e}")
```

---

I also need to handle the case where files might be found elsewhere during the search for missing output files:

---

```diff
                                                  f"    [green]Copied file to:[/green] {output_file}"
                                              )
+                                             
+                                             # Delete the original file after successful copy
+                                             f.unlink()
+                                             console.print(
+                                                 f"    [green]Deleted original file:[/green] {f.absolute()}"
+                                             )
                                              break
                                          except Exception as e:
```

---

Now when you run the examples with the "pro" engine, it will:
1. Create the temporary output files in the current directory (required by the pro engine)
2. Copy those files to the proper output directory 
3. Delete the original files from the current directory

This should solve your issue of having duplicate output files in both locations.

---

